___TERMS_OF_SERVICE___

By creating or modifying this file you agree to Google Tag Manager's Community
Template Gallery Developer Terms of Service available at
https://developers.google.com/tag-manager/gallery-tos (or such other URL as
Google may provide), as modified from time to time.


___INFO___

{
  "type": "TAG",
  "id": "cvt_temp_public_id",
  "version": 1,
  "securityGroups": [],
  "displayName": "CookieConsent.io - TikTok Server 2 Server template",
  "brand": {
    "id": "github.com_cookieconsentio",
    "displayName": "cookieconsentio",
    "thumbnail": "data:image/png;base64,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\u003d\u003d"
  },
  "description": "GTM template for the Server 2 server integration",
  "containerContexts": [
    "WEB"
  ]
}


___TEMPLATE_PARAMETERS___

[
  {
    "type": "TEXT",
    "name": "id",
    "displayName": "CookieConsent.io Server2Server ID",
    "simpleValueType": true,
    "valueHint": "000000000000-0000-0000-0000-000000000000",
    "valueValidators": [
      {
        "type": "NON_EMPTY",
        "errorMessage": "This is a test"
      },
      {
        "type": "REGEX",
        "args": [
          "[0-9a-fA-F]{8}\\-[0-9a-fA-F]{4}\\-[0-9a-fA-F]{4}\\-[0-9a-fA-F]{4}\\-[0-9a-fA-F]{12}"
        ]
      }
    ]
  },
  {
    "type": "SELECT",
    "name": "type",
    "displayName": "Event type",
    "macrosInSelect": false,
    "selectItems": [
      {
        "value": "pageView",
        "displayValue": "PageView"
      },
      {
        "value": "enhancedEcommerceImpressions",
        "displayValue": "EnhancedEcommerceImpressions"
      },
      {
        "value": "enhancedEcommerceProductClick",
        "displayValue": "EnhancedEcommerceProductClick"
      },
      {
        "value": "enhancedEcommerceProductDetails",
        "displayValue": "EnhancedEcommerceProductDetails"
      },
      {
        "value": "enhancedEcommerceAddToCart",
        "displayValue": "EnhancedEcommerceAddToCart"
      },
      {
        "value": "enhancedEcommercePromotionImpressions",
        "displayValue": "EnhancedEcommercePromotionImpressions"
      },
      {
        "value": "enhancedEcommercePromotionClick",
        "displayValue": "EnhancedEcommercePromotionClick"
      },
      {
        "value": "enhancedEcommerceCheckout",
        "displayValue": "EnhancedEcommerceCheckout"
      },
      {
        "value": "enhancedEcommercePurchase",
        "displayValue": "EnhancedEcommercePurchase"
      },
      {
        "value": "lead",
        "displayValue": "Lead"
      },
      {
        "value": "standardEcommercePurchase",
        "displayValue": "StandardEcommercePurchase"
      },
      {
        "value": "enhancedEcommerceRemoveFromCart",
        "displayValue": "EnhancedEcommerceRemoveFromCart"
      },
      {
        "value": "enhancedEcommerceCart",
        "displayValue": "EnhancedEcommerceCart"
      },
      {
        "value": "customerData",
        "displayValue": "CustomerData"
      },
      {
        "value": "setup",
        "displayValue": "Setup"
      },
      {
        "value": "ga4ViewItemList",
        "displayValue": "GA4 View item list"
      },
      {
        "value": "ga4SelectItem",
        "displayValue": "GA4 Select item"
      },
      {
        "value": "ga4ViewItem",
        "displayValue": "GA4 View item"
      },
      {
        "value": "ga4AddToCart",
        "displayValue": "GA4 Add to cart"
      },
      {
        "value": "ga4RemoveFromCart",
        "displayValue": "GA4 Remove from cart"
      },
      {
        "value": "ga4SelectPromotion",
        "displayValue": "GA4 Select Promotion"
      },
      {
        "value": "ga4ViewPromotion",
        "displayValue": "GA4 View Promotion"
      },
      {
        "value": "ga4Checkout",
        "displayValue": "GA4 Checkout"
      },
      {
        "value": "ga4Purchase",
        "displayValue": "GA4 Purchase"
      }
    ],
    "simpleValueType": true,
    "defaultValue": "pageView"
  },
  {
    "type": "SELECT",
    "name": "eventName",
    "displayName": "Event name",
    "macrosInSelect": false,
    "selectItems": [
      {
        "value": "ViewContent",
        "displayValue": "ViewContent"
      },
      {
        "value": "ClickButton",
        "displayValue": "ClickButton"
      },
      {
        "value": "Search",
        "displayValue": "Search"
      },
      {
        "value": "AddToWishlist",
        "displayValue": "AddToWishlist"
      },
      {
        "value": "AddToCart",
        "displayValue": "AddToCart"
      },
      {
        "value": "InitiateCheckout",
        "displayValue": "InitiateCheckout"
      },
      {
        "value": "AddPaymentInfo",
        "displayValue": "AddPaymentInfo"
      },
      {
        "value": "CompletePayment",
        "displayValue": "CompletePayment"
      },
      {
        "value": "PlaceAnOrder",
        "displayValue": "PlaceAnOrder"
      },
      {
        "value": "Contact",
        "displayValue": "Contact"
      },
      {
        "value": "Download",
        "displayValue": "Download"
      },
      {
        "value": "SubmitForm",
        "displayValue": "SubmitForm"
      },
      {
        "value": "CompleteRegistration",
        "displayValue": "CompleteRegistration"
      },
      {
        "value": "Subscribe",
        "displayValue": "Subscribe"
      }
    ],
    "simpleValueType": true,
    "defaultValue": "ViewContent"
  },
  {
    "type": "TEXT",
    "name": "marketingEnabled",
    "displayName": "Marketing enabled",
    "simpleValueType": true,
    "valueValidators": [
      {
        "type": "NON_EMPTY"
      }
    ]
  },
  {
    "type": "SELECT",
    "name": "trackMode",
    "displayName": "CookieConsent.io Server2Server tracking mode",
    "selectItems": [
      {
        "value": "always",
        "displayValue": "Always"
      },
      {
        "value": "marketing",
        "displayValue": "Marketing accepted"
      },
      {
        "value": "none",
        "displayValue": "None"
      }
    ],
    "simpleValueType": true,
    "defaultValue": "ldu"
  },
  {
    "type": "TEXT",
    "name": "ecommerceObject",
    "displayName": "Ecommerce datalayer object",
    "simpleValueType": true
  },
  {
    "type": "TEXT",
    "name": "leadValue",
    "displayName": "Lead value",
    "simpleValueType": true,
    "enablingConditions": [
      {
        "paramName": "type",
        "paramValue": "lead",
        "type": "EQUALS"
      }
    ],
    "valueValidators": [
      {
        "type": "NON_EMPTY"
      }
    ]
  },
  {
    "type": "TEXT",
    "name": "tiktokUniqueId",
    "displayName": "TikTok unique ID value",
    "simpleValueType": true
  },
  {
    "type": "TEXT",
    "name": "testEventCode",
    "displayName": "testEventCode",
    "simpleValueType": true
  },
  {
    "type": "TEXT",
    "name": "email",
    "displayName": "E-mail",
    "simpleValueType": true
  },
  {
    "type": "TEXT",
    "name": "phone_number",
    "displayName": "Phone",
    "simpleValueType": true
  },
  {
    "type": "TEXT",
    "name": "external_id",
    "displayName": "External id",
    "simpleValueType": true
  }
]


___SANDBOXED_JS_FOR_WEB_TEMPLATE___

const log = require('logToConsole');
const injectScript = require('injectScript');
const queryPermission = require('queryPermission');
const encodeUriComponent = require('encodeUriComponent');
const callInWindow = require('callInWindow');
const copyFromWindow = require('copyFromWindow');
const setInWindow = require('setInWindow');
const createQueue = require('createQueue');

const loadData = () => {
  
/**
 * Get CTC object from window
 */
const getCTC = () => {
  
  const ctc = copyFromWindow('ctc');
  if (ctc) {
    return ctc;
  }
  
  setInWindow('ctc', function() {    
    let queue = copyFromWindow('ctc.q');
    
    if(queue) { 
      callInWindow('ctc.q.push', arguments);
    }
    else {
      let queue = createQueue('ctc.q');    
      callInWindow('ctc.q.push', arguments);
    }
    

  });
  
  return copyFromWindow('ctc');
};  
  
/**
 * Make sure we have the right permissions
 */
if (queryPermission('access_globals', 'readwrite', 'ctc') &&
    queryPermission('access_globals', 'readwrite', 'ctc.q') &&
    queryPermission('access_globals', 'execute', 'ctc.q.push')) {

  const ctc = getCTC();
  
  /**
  * Enable test mode
  */  
  if(data.testEventCode) {    
     ctc('testCode', data.testEventCode);
  }
     
  /**
  * Execute the right function based on the selected type
  */
  switch(data.type) {
      
    case 'pageView':
      
       ctc('pageView', data.eventName, data.marketingEnabled, data.tiktokUniqueId, data.trackMode, undefined, data.email, data.phone_number, data.external_id);
      break;
    
    case 'lead':
       ctc('lead', data.eventName, data.leadValue, data.marketingEnabled, data.tiktokUniqueId, data.trackMode, data.email, data.phone_number, data.external_id);
      break;      
 
    case 'enhancedEcommercePurchase':
       ctc('enhancedEcommercePurchase', data.ecommerceObject, data.eventName, data.marketingEnabled, data.tiktokUniqueId, data.trackMode, data.email, data.phone_number, data.external_id);
      break;          
  
    case 'standardEcommercePurchase':
       ctc('standardEcommercePurchase', data.ecommerceObject, data.eventName, data.marketingEnabled, data.tiktokUniqueId, data.trackMode, data.email, data.phone_number, data.external_id);
      break;                

    case 'enhancedEcommerceProductDetails':
       ctc('enhancedEcommerceProductDetails', data.ecommerceObject, data.eventName, data.marketingEnabled, data.tiktokUniqueId, data.trackMode, data.email, data.phone_number, data.external_id);
      break;       

    case 'enhancedEcommerceAddToCart':
       ctc('enhancedEcommerceAddToCart', data.ecommerceObject, data.eventName, data.marketingEnabled, data.tiktokUniqueId, data.trackMode, data.email, data.phone_number, data.external_id);
      break;         

    case 'enhancedEcommerceRemoveFromCart':
       ctc('enhancedEcommerceRemoveFromCart', data.ecommerceObject, data.eventName, data.marketingEnabled, data.tiktokUniqueId, data.trackMode, data.email, data.phone_number, data.external_id);
      break;        
      
    case 'enhancedEcommerceCart':
       ctc('enhancedEcommerceCart', data.ecommerceObject, data.eventName, data.marketingEnabled, data.tiktokUniqueId, data.trackMode, data.email, data.phone_number, data.external_id);
      break;           

    case 'enhancedEcommerceCheckout':
      ctc('enhancedEcommerceCheckout', data.ecommerceObject, data.eventName, data.marketingEnabled, data.tiktokUniqueId,data.trackMode, data.email, data.phone_number, data.external_id);
      break;        
      
    case 'enhancedEcommerceImpressions':
      ctc('enhancedEcommerceImpressions', data.ecommerceObject, data.eventName, data.marketingEnabled, data.tiktokUniqueId, data.trackMode, data.email, data.phone_number, data.external_id);
      break;       
  
    case 'enhancedEcommerceProductClick':
      ctc('enhancedEcommerceProductClick', data.ecommerceObject, data.eventName, data.marketingEnabled, data.tiktokUniqueId, data.trackMode, data.email, data.phone_number, data.external_id);
      break;       
  
    case 'enhancedEcommercePromotionImpressions':
      ctc('enhancedEcommercePromotionImpressions', data.ecommerceObject, data.eventName, data.marketingEnabled, data.tiktokUniqueId, data.trackMode, data.email, data.phone_number, data.external_id);
      break;       

    case 'enhancedEcommercePromotionClick':
      ctc('enhancedEcommercePromotionClick', data.ecommerceObject, data.eventName, data.marketingEnabled, data.tiktokUniqueId, data.trackMode, data.email, data.phone_number, data.external_id);
      break;       
 
    case 'customerData':
      ctc('customerData', data.ecommerceObject, data.eventName, data.marketingEnabled, data.tiktokUniqueId, data.trackMode, data.email, data.phone_number, data.external_id);
      break;
      
    case 'ga4ViewItemList':
      ctc('ga4ViewItemList', data.ecommerceObject, data.eventName, data.marketingEnabled, data.tiktokUniqueId, data.trackMode, data.email, data.phone_number, data.external_id);
      break;
      
   case 'ga4SelectItem':
      ctc('ga4SelectItem', data.ecommerceObject, data.eventName, data.marketingEnabled, data.tiktokUniqueId,  data.trackMode, data.email, data.phone_number, data.external_id);
      break;
      
      case 'ga4ViewItem':
      ctc('ga4ViewItem', data.ecommerceObject, data.eventName, data.marketingEnabled, data.tiktokUniqueId, data.trackMode, data.email, data.phone_number, data.external_id);
      break;
      
      case 'ga4AddToCart':
      ctc('ga4AddToCart', data.ecommerceObject, data.eventName, data.marketingEnabled, data.tiktokUniqueId, data.trackMode, data.email, data.phone_number, data.external_id);
      break;
      
      case 'ga4RemoveFromCart':
      ctc('ga4RemoveFromCart', data.ecommerceObject, data.eventName, data.marketingEnabled, data.facebookUniqueId, data.trackMode, data.email, data.phone_number, data.external_id);
      break;    

      case 'ga4SelectPromotion':
      ctc('ga4SelectPromotion', data.ecommerceObject, data.eventName, data.marketingEnabled, data.facebookUniqueId, data.trackMode, data.email, data.phone_number, data.external_id);
      break;
      
      case 'ga4ViewPromotion':
      ctc('ga4ViewPromotion', data.ecommerceObject, data.eventName, data.marketingEnabled, data.facebookUniqueId, data.trackMode, data.email, data.phone_number, data.external_id);
      break;    
      
      case 'ga4Checkout':
      ctc('ga4Checkout', data.ecommerceObject, data.eventName, data.marketingEnabled, data.tiktokUniqueId, data.trackMode, data.email, data.phone_number, data.external_id);
      break;
      
      case 'ga4Purchase':
      ctc('ga4Purchase', data.ecommerceObject, data.eventName, data.marketingEnabled, data.tiktokUniqueId, data.trackMode, data.email, data.phone_number, data.external_id);
      break;       
}
  }
  
  return data.gtmOnSuccess();
};

let url = 'https://edge.cookieconsent.io/prod/js/' + encodeUriComponent(data.id) + '.js';

if (queryPermission('inject_script', url)) { 
  injectScript(url, loadData(), data.gtmOnFailure, url);
}


___WEB_PERMISSIONS___

[
  {
    "instance": {
      "key": {
        "publicId": "logging",
        "versionId": "1"
      },
      "param": [
        {
          "key": "environments",
          "value": {
            "type": 1,
            "string": "debug"
          }
        }
      ]
    },
    "clientAnnotations": {
      "isEditedByUser": true
    },
    "isRequired": true
  },
  {
    "instance": {
      "key": {
        "publicId": "inject_script",
        "versionId": "1"
      },
      "param": [
        {
          "key": "urls",
          "value": {
            "type": 2,
            "listItem": [
              {
                "type": 1,
                "string": "https://edge.cookieconsent.io/*"
              }
            ]
          }
        }
      ]
    },
    "clientAnnotations": {
      "isEditedByUser": true
    },
    "isRequired": true
  },
  {
    "instance": {
      "key": {
        "publicId": "access_globals",
        "versionId": "1"
      },
      "param": [
        {
          "key": "keys",
          "value": {
            "type": 2,
            "listItem": [
              {
                "type": 3,
                "mapKey": [
                  {
                    "type": 1,
                    "string": "key"
                  },
                  {
                    "type": 1,
                    "string": "read"
                  },
                  {
                    "type": 1,
                    "string": "write"
                  },
                  {
                    "type": 1,
                    "string": "execute"
                  }
                ],
                "mapValue": [
                  {
                    "type": 1,
                    "string": "ctc"
                  },
                  {
                    "type": 8,
                    "boolean": true
                  },
                  {
                    "type": 8,
                    "boolean": true
                  },
                  {
                    "type": 8,
                    "boolean": true
                  }
                ]
              },
              {
                "type": 3,
                "mapKey": [
                  {
                    "type": 1,
                    "string": "key"
                  },
                  {
                    "type": 1,
                    "string": "read"
                  },
                  {
                    "type": 1,
                    "string": "write"
                  },
                  {
                    "type": 1,
                    "string": "execute"
                  }
                ],
                "mapValue": [
                  {
                    "type": 1,
                    "string": "ctc.q"
                  },
                  {
                    "type": 8,
                    "boolean": true
                  },
                  {
                    "type": 8,
                    "boolean": true
                  },
                  {
                    "type": 8,
                    "boolean": true
                  }
                ]
              },
              {
                "type": 3,
                "mapKey": [
                  {
                    "type": 1,
                    "string": "key"
                  },
                  {
                    "type": 1,
                    "string": "read"
                  },
                  {
                    "type": 1,
                    "string": "write"
                  },
                  {
                    "type": 1,
                    "string": "execute"
                  }
                ],
                "mapValue": [
                  {
                    "type": 1,
                    "string": "ctc.q.push"
                  },
                  {
                    "type": 8,
                    "boolean": false
                  },
                  {
                    "type": 8,
                    "boolean": false
                  },
                  {
                    "type": 8,
                    "boolean": true
                  }
                ]
              }
            ]
          }
        }
      ]
    },
    "clientAnnotations": {
      "isEditedByUser": true
    },
    "isRequired": true
  }
]


___TESTS___

scenarios: []


___NOTES___

Created on 6/7/2021, 8:20:24 AM


